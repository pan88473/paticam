<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>San Valent√≠n üíñ</title>

<style>
body {
    margin: 0;
    height: 100vh;
    overflow: hidden;
    font-family: "Comic Sans MS", cursive;
}


.escena {
    position: absolute;
    width: 100%;
    height: 100vh;
    top: 0;
    left: 0;
    transition: opacity 1.5s ease;
}

.oculta { opacity: 0; pointer-events: none; }
.visible { opacity: 1; }

/* ========= ESCENA 0 ========= */
#escena0 {
    background: #000;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* LISTONES */
.liston-superior,
.liston-inferior {
    position: absolute;
    height: 18px;
    background: #ff8fab;
    animation: extender 6s ease-in-out infinite alternate;
}

.liston-superior { top: 20px; right: 0; }
.liston-inferior { bottom: 20px; left: 0; }

.liston-superior::after {
    content: "";
    position: absolute;
    left: -20px;
    border-top: 9px solid transparent;
    border-bottom: 9px solid transparent;
    border-right: 20px solid #ff8fab;
}

.liston-inferior::after {
    content: "";
    position: absolute;
    right: -20px;
    border-top: 9px solid transparent;
    border-bottom: 9px solid transparent;
    border-left: 20px solid #ff8fab;
}

@keyframes extender {
    from { width: 120px; }
    to { width: 100%; }
}

.circulo {
    width: 220px;
    height: 220px;
    border-radius: 50%;
    background: rgba(0,0,0,0.85);
    border: 4px solid #ff8fab;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 20px;
    box-shadow: 0 0 20px #ff8fab;
    cursor: pointer;
    z-index: 2;
}

.circulo h1 {
    color: #ffb3c6;
    font-size: 20px;
    text-shadow: 0 0 10px #ff4d6d, 0 0 20px #ff4d6d;
}

/* ========= ESCENA 1 ========= */
#escena1 {
    background: url('img/transici√≥n.jpg') no-repeat center center;
    background-size: cover;
}

.caminando {
    position: absolute;
    bottom: 0;
    left: -120px;
    width: 110px;
    animation: caminar 6s linear forwards;
    animation-play-state: paused;
}

@keyframes caminar {
    0% { left: -120px; }
    100% { left: 100%; }
}

/* ========= ESCENA 2 ========= */
#escena2 {
    background: #ffd6e0;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    padding: 40px;
    box-sizing: border-box;

}




/* Imagen Camila */
.camila-img {
    position: absolute;
    top: 15px;
    left: 15px;
    width: 110px;
    border-radius: 15px;
    box-shadow: 0 0 15px rgba(0,0,0,0.3);
}

/* GIF pose esquina inferior derecha */
.pose-img {
    position: absolute;
    bottom: 10px;
    right: 10px;
    width: 120px;
}

/* Texto */
.contenedor-texto {
    max-width: 80%;
    overflow: hidden;
}

#textoEscena2 {
    color: #b03060;
    font-size: 18px;
    text-align: center;
    line-height: 1.6;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 2s ease, transform 2s ease;
}

/* BOT√ìN BLANCO SIMPLE */
.btn-siguiente {
    position: absolute;
    bottom: 70px;
    padding: 12px 25px;
    font-size: 16px;
    background: white;
    color: #b03060;
    border: 2px solid #b03060;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-siguiente:hover {
    background: #b03060;
    color: white;
}


/* GIF retirada */
.retirada {
    position: absolute;
    bottom: 50%;
    right: -150px;
    width: 120px;
    opacity: 0;
}

/* Animaciones */
@keyframes empujar {
    0% { right: -150px; opacity: 1; }
    100% { right: 110%; opacity: 1; }
}

@keyframes moverTexto {
    0% { transform: translateX(0); opacity: 1; }
    100% { transform: translateX(-120%); opacity: 0; }
}

.escenaFinal {
    background: black;
     color: aliceblue;
    opacity: 0;
    transition: opacity 3s ease;
    z-index: 20;
}

.escenaFinal {
    background: black;
    color: aliceblue;
    opacity: 0;
    transition: opacity 3s ease;
    z-index: 30;
    display: flex;
    justify-content: center;
    align-items: center;
}

.contenido-final {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 25px;
    animation: aparecerFinal 3s ease forwards;
    opacity: 0;
}

/* Contenedor horizontal para imagen + gif */
.fila-final {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 40px;
}

@keyframes aparecerFinal {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.corazon-final {
    font-size: 50px;
    animation: latido 1.5s infinite;
}

@keyframes latido {
    0% { transform: scale(1); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
}

.img-final {
    width: 220px;
    border-radius: 15px;
}

.gif-final {
    width: 200px;
}


</style>
</head>
<body>

<audio id="musica" src="musica/musica.mp3" loop></audio>

<!-- ESCENA 0 -->
<div id="escena0" class="escena visible">
    <div class="liston-superior"></div>
    <div class="liston-inferior"></div>

    <div class="circulo" onclick="iniciarTransicion()">
        <h1>Feliz D√≠a<br>de<br>San Valent√≠n üíï<br><small>(üíå)</small></h1>
    </div>
</div>

<!-- ESCENA 1 -->
<div id="escena1" class="escena oculta">
    <img src="gif/caminando.gif" class="caminando" id="personaje">
</div>

<!-- ESCENA 2 -->
<div id="escena2" class="escena oculta">

    <img src="img/camila.jpg" class="camila-img" alt="Camila">

    <div class="contenedor-texto">
        <div id="textoEscena2">
            Cuando volvimos y decidimos ser amigos, fue bonito sentirte cerca otra vez, pero se sinti√≥ diferente. Desde tu regreso, algo cambi√≥; empezaste a lanzar esas indirectas y algunas muy directas que me confund√≠an y, si bien soy muy tonto, capt√© las indirectas.

Sent√≠a que quer√≠as una relaci√≥n m√°s cercana, algo que yo tambi√©n quiero, y es que me hace sentir tan bien, tan c√≥modo; es como si los problemas desaparecieran por momentos. Pero la distancia es algo que nos limita. Somos tan cercanos y distantes a la vez. üò´ Quiero sentir que est√°s aqu√≠ conmigo, escuchar tu voz, sentir la calidez de tu sonrisa al menos.
        </div>
    </div>
    <button id="btnSiguiente" class="btn-siguiente" onclick="iniciarRetirada()">
    Siguiente
</button>


    <img src="gif/pose.gif" class="pose-img" alt="Pose">
    <img src="gif/retirada.gif" class="retirada" id="retirada">

</div>
<div class="escena escenaFinal oculta" id="escenaFinal">
    <div class="contenido-final">

        <div class="corazon-final">‡ºº „Å§ ‚óï_‚óï ‡ºΩ„Å§‚ù§Ô∏è</div>

        <div class="fila-final">
            <img src="gif/final.gif" class="gif-final">
            <img src="img/camila2.jpg" class="img-final">
        </div>

    </div>
</div>




<script>
const escena0 = document.getElementById('escena0');
const escena1 = document.getElementById('escena1');
const escena2 = document.getElementById('escena2');
const personaje = document.getElementById('personaje');
const musica = document.getElementById('musica');

const textoEscena2 = document.getElementById('textoEscena2');
const retirada = document.getElementById('retirada');
const btn = document.getElementById('btnSiguiente');

let etapa = 1;

function iniciarTransicion() {
    musica.play();

    escena0.classList.remove('visible');
    escena0.classList.add('oculta');

    setTimeout(() => {
        escena1.classList.remove('oculta');
        escena1.classList.add('visible');
        personaje.style.animationPlayState = 'running';
    }, 1500);
}

personaje.addEventListener('animationend', () => {
    escena1.classList.remove('visible');
    escena1.classList.add('oculta');

    setTimeout(() => {
        escena2.classList.remove('oculta');
        escena2.classList.add('visible');

        setTimeout(() => {
            textoEscena2.style.opacity = "1";
            textoEscena2.style.transform = "translateY(0)";
        }, 500);

    }, 1500);
});

function manejarBoton() {
    iniciarRetirada();
}

function iniciarRetirada() {

    btn.style.display = "none";

    retirada.style.opacity = "1";
    retirada.style.animation = "empujar 6s linear forwards";
    textoEscena2.style.animation = "moverTexto 6s linear forwards";

    setTimeout(() => {
        finalizarRetirada();
    }, 6000);
}

function finalizarRetirada() {

    retirada.style.animation = "";
    textoEscena2.style.animation = "";
    retirada.style.opacity = "0";

    textoEscena2.style.opacity = "0";
    textoEscena2.style.transform = "translateY(20px)";
    textoEscena2.style.transform = "translateX(0)";

    etapa++;

    if (etapa === 2) {

        textoEscena2.innerHTML = `
        Ya, ya s√© que tienes un novio, pero no puedo evitar imaginar una situaci√≥n en la que somos algo m√°s que amigos, ¬øsabes?, del tipo que ven pel√≠culas, pasan el rato, charlan m√°s a menudo, hablan en llamada, escuchan tus historias, tus sue√±os y pesadillas. Yo podr√≠a contarte mis historias, mis secretos, cantarte canciones, aunque no muy buenas üòÖ, pero yo har√≠a el intento, y tambi√©n podr√≠a cocinar para ti. Estaba pensando en prepararte alguna de mis especialidades en live solo si me acompa√±as ü§≠ y es que hacerlo solo ser√≠a algo aburrido. Estuve pensando en esas llamadas que tienen hasta muy tarde y lo bonito que ser√≠a. Tengo que advertirte que me pongo un poquito loco a la medianoche. Noche üò≥üòÖ, creo que imagin√© de m√°s ü§™üòì
        
        `;

    } else if (etapa === 3) {

        textoEscena2.innerHTML = `

         <img src="gif/pensando2.gif">
         

       `;

    } else if (etapa === 4) {

        textoEscena2.innerHTML = `
        Cuando me contaste que ten√≠as a alguien m√°s en tu coraz√≥n, no pude evitar sentirme acabado, pero feliz. Acabado porque no tuve la oportunidad de hacer que algo como nosotros pudiera funcionar; y feliz porque alguien pudo comprender tu coraz√≥n, alguien que hizo que perdieras el miedo y las inseguridades. Quiero que seas feliz üòä despu√©s de todo, mereces serlo. Quiz√°s despu√©s de esto la relaci√≥n no sea la misma, pero al menos estar para ti como persona, amigo, compa√±ero y , qui√©n sabe, en un futuro ü•∞üòÑ siempre que as√≠ lo quieras üéàüê•
        `;

    } else {
    textoEscena2.innerHTML = "";

    setTimeout(() => {
        activarEscenaFinal();
    }, 800);

    return;
}


    setTimeout(() => {
        textoEscena2.style.opacity = "1";
        textoEscena2.style.transform = "translateY(0)";
        btn.style.display = "block";
    }, 500);
}

function activarEscenaFinal() {

    escena2.classList.remove('visible');
    escena2.classList.add('oculta');

    const escenaFinal = document.getElementById("escenaFinal");
    const contenidoFinal = document.querySelector(".contenido-final");

    escenaFinal.classList.remove('oculta');
    escenaFinal.classList.add('visible');

    setTimeout(() => {
        escenaFinal.style.opacity = "1";
        contenidoFinal.style.opacity = "1";
    }, 100);
}


</script>




</body>
</html>

